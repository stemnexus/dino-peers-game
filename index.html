<!doctype html>
<html lang="ms">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dino PEERS Game</title>

  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <!-- Top Bar -->
  <header class="topbar">
    <div class="brand">
      <span class="brand__icon" aria-hidden="true">ğŸ¦–</span>
      <div class="brand__text">
        <div class="brand__title">Dino <b>PEERS</b> Game</div>
        <div class="brand__sub">Game-based assessment (Coin â†’ Soalan â†’ Markah)</div>
      </div>
    </div>

    <div class="topchips">
      <div class="chip"><span>World</span><b id="hudWorldTop">1</b></div>
      <div class="chip"><span>Skor</span><b id="hudScoreTop">0</b></div>
      <div class="chip"><span>Nyawa</span><b id="hudLivesTop">3</b></div>
      <div class="chip"><span>Masa</span><b id="hudTimeTop">00:00</b></div>
    </div>
  </header>

  <!-- Main Layout -->
  <main class="layout">

    <!-- LEFT HUD (macam space game) -->
    <aside class="hud">
      <div class="hudcard">
        <div class="hudrow">
          <span class="hudlabel">ğŸ‘¤ Pemain</span>
          <b class="hudvalue" id="hudName">-</b>
        </div>
        <div class="hudrow">
          <span class="hudlabel">ğŸ« Kelas</span>
          <b class="hudvalue" id="hudClass">-</b>
        </div>
      </div>

      <div class="hudcard">
        <div class="hudrow">
          <span class="hudlabel">ğŸ World</span>
          <b class="hudvalue" id="hudWorld">1</b>
        </div>
        <div class="hudrow">
          <span class="hudlabel">ğŸ† Skor</span>
          <b class="hudvalue" id="hudScore">0</b>
        </div>
        <div class="hudrow">
          <span class="hudlabel">â¤ï¸ Nyawa</span>
          <b class="hudvalue" id="hudLives">3</b>
        </div>
        <div class="hudrow">
          <span class="hudlabel">â±ï¸ Masa</span>
          <b class="hudvalue" id="hudTime">00:00</b>
        </div>
        <div class="hudrow">
          <span class="hudlabel">ğŸ§© Soalan</span>
          <b class="hudvalue" id="hudQCount">0/0</b>
        </div>
      </div>

      <div class="hudcard">
        <div class="hudtitle">ğŸ® Kawalan</div>
        <div class="hudhint">
          <div><b>â† â†’</b> : Gerak</div>
          <div><b>SPACE</b> : Lompat</div>
          <div><b>â†“</b> : Slide (optional)</div>
          <div><b>P</b> : Pause</div>
        </div>
      </div>

      <div class="hudcard">
        <div class="hudtitle">ğŸ“Œ Cara Main</div>
        <ol class="howto">
          <li>Isi <b>Nama</b> & <b>Kelas</b></li>
          <li>Pilih <b>World</b> & <b>Dino</b></li>
          <li>Tekan <b>Start</b></li>
          <li>Ambil <b>Coin</b> â†’ <b>Soalan</b> akan keluar (game pause)</li>
          <li>Jawab betul â†’ skor naik, salah â†’ nyawa turun</li>
        </ol>
        <div class="tip">Tip: Soalan akan <b>shuffle</b> & coin spawn ikut stage.</div>
      </div>
    </aside>

    <!-- CENTER GAME STAGE -->
    <section class="stage">
      <div class="stage__frame">
        <!-- Canvas untuk game -->
        <canvas id="gameCanvas" width="960" height="420"></canvas>

        <!-- Overlay text kecil (status) -->
        <div class="stage__overlay">
          <div class="badge" id="gameStatus">Tekan Start untuk mula</div>
        </div>

        <!-- Loading / paused curtain -->
        <div class="curtain hidden" id="curtain">
          <div class="curtain__box">
            <div class="curtain__title" id="curtainTitle">PAUSE</div>
            <div class="curtain__desc" id="curtainDesc">Tekan P untuk sambung</div>
            <div class="curtain__actions">
              <button class="btn btn--soft" id="btnResume">Sambung</button>
              <button class="btn btn--danger" id="btnQuit">Tamat</button>
            </div>
          </div>
        </div>
      </div>

      <!-- bawah canvas: mini log -->
      <div class="logpanel">
        <div class="logtitle">ğŸ—’ï¸ Log</div>
        <div class="log" id="logBox">
          <div class="logline">Sediaâ€¦</div>
        </div>
      </div>
    </section>

    <!-- RIGHT CONTROL PANEL -->
    <aside class="panel">
      <div class="card">
        <div class="card__title">Maklumat Pemain</div>

        <label class="field">
          <span>Nama</span>
          <input id="inputName" type="text" placeholder="Contoh: Maria" autocomplete="off" />
        </label>

        <label class="field">
          <span>Kelas</span>
          <input id="inputClass" type="text" placeholder="Contoh: 5 Intan" autocomplete="off" />
        </label>

        <label class="field">
          <span>World (Topik)</span>
          <select id="selectWorld">
            <option value="1">World 1: Penyalahgunaan Bahan</option>
            <option value="2">World 2: Kesihatan Diri</option>
            <option value="3">World 3: Gaya Hidup Sihat</option>
          </select>
        </label>

        <div class="divider"></div>

        <div class="picktitle">Pilih Dino</div>

        <!-- Dino picker: guna 4 PNG berasingan -->
        <div class="dinoGrid" id="dinoGrid">
          <button class="dinoBtn is-active" data-dino="dino1" id="pickDino1" type="button" aria-label="Dino 1 (Hijau)">
            <img src="assets/dino1.png" alt="Dino 1" />
            <span>Hijau</span>
          </button>

          <button class="dinoBtn" data-dino="dino2" id="pickDino2" type="button" aria-label="Dino 2 (Oren)">
            <img src="assets/dino2.png" alt="Dino 2" />
            <span>Oren</span>
          </button>

          <button class="dinoBtn" data-dino="dino3" id="pickDino3" type="button" aria-label="Dino 3 (Merah)">
            <img src="assets/dino3.png" alt="Dino 3" />
            <span>Merah</span>
          </button>

          <button class="dinoBtn" data-dino="dino4" id="pickDino4" type="button" aria-label="Dino 4 (Ungu)">
            <img src="assets/dino4.png" alt="Dino 4" />
            <span>Ungu</span>
          </button>
        </div>

        <div class="divider"></div>

        <div class="btnrow">
          <button class="btn btn--primary" id="btnStart" type="button">Start</button>
          <button class="btn btn--soft" id="btnReset" type="button">Reset</button>
        </div>

        <div class="note">
          Bila game tamat, TP akan keluar & markah boleh dihantar ke Google Sheets.
        </div>
      </div>

      <div class="card mini">
        <div class="mini__row">
          <span class="mini__label">Dino dipilih</span>
          <b class="mini__value" id="selectedDinoLabel">Hijau</b>
        </div>
        <div class="mini__row">
          <span class="mini__label">Status</span>
          <b class="mini__value" id="miniStatus">Idle</b>
        </div>
      </div>
    </aside>

  </main>

  <!-- QUIZ MODAL (game WAJIB pause bila ni muncul) -->
  <div class="modal hidden" id="quizModal" role="dialog" aria-modal="true" aria-labelledby="quizTitle">
    <div class="modal__backdrop" id="quizBackdrop"></div>

    <div class="modal__card">
      <div class="modal__head">
        <div class="modal__title" id="quizTitle">Soalan</div>
        <button class="iconbtn" id="quizClose" aria-label="Tutup">âœ•</button>
      </div>

      <div class="modal__body">
        <div class="question" id="quizQuestion">...</div>

        <div class="answers" id="quizAnswers">
          <!-- game.js akan inject button jawapan -->
        </div>

        <div class="modal__feedback" id="quizFeedback"></div>
      </div>

      <div class="modal__foot">
        <button class="btn btn--soft" id="btnSkip" type="button">Skip</button>
        <button class="btn btn--primary" id="btnNextQuestion" type="button">Next</button>
      </div>
    </div>
  </div>

  <!-- RESULT MODAL -->
  <div class="modal hidden" id="resultModal" role="dialog" aria-modal="true" aria-labelledby="resultTitle">
    <div class="modal__backdrop" id="resultBackdrop"></div>

    <div class="modal__card">
      <div class="modal__head">
        <div class="modal__title" id="resultTitle">Misi Selesai!</div>
        <button class="iconbtn" id="resultClose" aria-label="Tutup">âœ•</button>
      </div>

      <div class="modal__body">
        <div class="resultbox" id="resultBox">
          <!-- game.js akan isi summary -->
        </div>
      </div>

      <div class="modal__foot">
        <button class="btn btn--soft" id="btnPlayAgain" type="button">Cuba Lagi</button>
        <button class="btn btn--primary" id="btnExport" type="button">Hantar Markah</button>
      </div>
    </div>
  </div>

  <!-- JS -->
  <script defer src="game.js"></script>
</body>
</html>
